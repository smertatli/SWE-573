{% extends 'main.html' %} 

{% load static %} 



{% block content %}

<link rel="stylesheet" href="/static/dist-assets/css/plugins/smart.wizard/smart_wizard.min.css" />
<link rel="stylesheet" href="/static/dist-assets/css/plugins/smart.wizard/smart_wizard_theme_arrows.min.css" />
<link rel="stylesheet" href="/static/dist-assets/css/plugins/smart.wizard/smart_wizard_theme_circles.min.css" />
<link rel="stylesheet" href="/static/dist-assets/css/plugins/smart.wizard/smart_wizard_theme_dots.min.css" />

<script src="/static/dist-assets/js/plugins/jquery.smartWizard.min.js"></script>
<script src="/static/dist-assets/js/scripts/smart.wizard.script.min.js"></script>

{% csrf_token %} 







 
    <div class="row">
        <div class="col-md-12" >
            <!--  SmartWizard html -->
            <div id="smartwizard" class="sw-main sw-theme-default" >
                <ul class="nav nav-tabs step-anchor">
                    <li class="nav-item active"><a href="#step-1" class="nav-link">Step 1<br><small>This is step description</small></a></li>
                    <li class="nav-item"><a href="#step-2" class="nav-link">Step 2<br><small>This is step description</small></a></li>
                    <li class="nav-item"><a href="#step-3" class="nav-link">Step 3<br><small>This is step description</small></a></li>
                    <li class="nav-item"><a href="#step-4" class="nav-link">Step 4<br><small>This is step description</small></a></li>
                </ul>
                <div class="btn-toolbar sw-toolbar sw-toolbar-top justify-content-end" >
                    <div class="btn-group mr-2 sw-btn-group" role="group"><button class="btn btn-secondary sw-btn-prev disabled" type="button">Previous</button><button class="btn btn-secondary sw-btn-next" type="button">Next</button></div><div class="btn-group mr-2 sw-btn-group-extra" role="group"><button class="btn btn-info">Finish</button><button class="btn btn-danger">Cancel</button></div></div><div class="sw-container tab-content" style="min-height: 214px;">
                    <div id="step-1" class="tab-pane step-content" style="display: block;">
                        <h3 class="border-bottom border-gray pb-2">Select a data source below</h3>
                            <table id="example4" class="display" cellspacing="0" width="100%" >
                                <thead>
                                   <tr>
                                      <th></th>
                                      <th>query_name</th>
                                      <th>query</th>
                                      <th>frequency_level1</th>
                                      <th>frequency_level2</th>
                                      <th>fetch_size</th>
                                   </tr>
                                </thead>
                                <tfoot>
                                   <tr>
                                      <th></th>
                                      <th>query_name</th>
                                      <th>query</th>
                                      <th>frequency_level1</th>
                                      <th>frequency_level2</th>
                                      <th>fetch_size</th>
                                   </tr>
                                </tfoot>
                             </table>
                    </div>
                    <div id="step-2" class="tab-pane step-content" >
                        <h3 class="border-bottom border-gray pb-2">Step 2 Content</h3>
                        <div >
                            <table id="example" class="display" cellspacing="0" width="100%" >
                                <thead>
                                   <tr>
                                      <th></th>
                                      <th>Name</th>
                                      <th>Desc</th>
                                   </tr>
                                </thead>
                                <tfoot>
                                   <tr>
                                      <th></th>
                                      <th>Name</th>
                                      <th>Desc</th>
                                   </tr>
                                </tfoot>
                             </table>
                        </div>
                    </div>
                    <div id="step-3" class="tab-pane step-content">
                        <table id="example2" class="display" cellspacing="0" width="100%">
                            <thead>
                               <tr>
                                  <th></th>
                                  <th>Domain</th>
                                  <th>Name</th>
                                  <th>Desc</th>
                               </tr>
                            </thead>
                            <tfoot>
                               <tr>
                                  <th></th>
                                  <th>Domain</th>
                                  <th>Name</th>
                                  <th>Desc</th>
                               </tr>
                            </tfoot>
                         </table>

                    </div>
                    <div id="step-4" class="tab-pane step-content">
                        <h3 class="border-bottom border-gray pb-2">Step 4 Content</h3>
                        <table id="example3" class="display" cellspacing="0" width="100%">
                            <thead>
                               <tr>
                                  <th></th>
                                  <th>Username</th>
                                  <th>Poplarity Rank</th>
                                  <th>Desc</th>
                                  <th>Location</th>
                                  <th>Name</th>
                                  <th>Verified</th>
                               </tr>
                            </thead>
                            <tfoot>
                               <tr>
                                  <th></th>
                                  <th>Username</th>
                                  <th>Poplarity Rank</th>
                                  <th>Desc</th>
                                  <th>Location</th>
                                  <th>Name</th>
                                  <th>Verified</th>
                               </tr>
                            </tfoot>
                         </table>
                    </div>
                </div><div class="btn-toolbar sw-toolbar sw-toolbar-bottom justify-content-end"><div class="btn-group mr-2 sw-btn-group" role="group"><button class="btn btn-secondary sw-btn-prev disabled" type="button">Previous</button><button class="btn btn-secondary sw-btn-next" type="button">Next</button></div><div class="btn-group mr-2 sw-btn-group-extra" role="group"><button class="btn btn-info">Finish</button><button class="btn btn-danger">Cancel</button></div></div>
            </div>
        </div>
    </div>


<div id="chartdiv"></div>
<div id="chartdiv2"></div>
<button class="btn btn-success btn-block mb-3" id="alert-success" type="button" onclick="alert('DONE')">Analyze</button>









<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<link href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css" rel="stylesheet" />

<script type="text/javascript" src="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/js/dataTables.checkboxes.min.js"></script>
<link type="text/css" href="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/css/dataTables.checkboxes.css" rel="stylesheet" />




<script>
    $(document).ready(function (){


        var domains = $.ajax({
                        type: 'POST',
                        async: false,
                        url: '{% url "analyzer:get_domain_table" %}',
                        dataType: 'json'
                        
                    }).responseJSON;
 

        var entities = $.ajax({
                        type: 'POST',
                        async: false,
                        url: '{% url "analyzer:get_entity_table" %}',
                        dataType: 'json'
                        
                    }).responseJSON;

        var users = $.ajax({
            type: 'POST',
            async: false,
            url: '{% url "analyzer:get_user_table" %}',
            dataType: 'json'
            
        }).responseJSON;

        var tracks = $.ajax({
            type: 'POST',
            async: false,
            url: '{% url "analyzer:get_tracks" %}',
            dataType: 'json'
            
        }).responseJSON;


      
        var table = $('#example4').DataTable({
        data: tracks,

        'columnDefs': [
            {
                'targets': 0,
                'checkboxes': {
                    'selectRow': true
                }
            }
        ],
        'select': {
            'style': 'multi'
        },
        'order': [[1, 'asc']]
        });

        
        var table = $('#example').DataTable({
        data: domains,

        'columnDefs': [
            {
                'targets': 0,
                'checkboxes': {
                    'selectRow': true
                }
            }
        ],
        'select': {
            'style': 'multi'
        },
        'order': [[1, 'asc']]
        });



        var table = $('#example2').DataTable({
        data: entities,

        'columnDefs': [
            {
                'targets': 0,
                'checkboxes': {
                    'selectRow': true
                }
            }
        ],
        'select': {
            'style': 'multi'
        },
        'order': [[1, 'asc']]
        });


        var table = $('#example3').DataTable({
        data: users,

        'columnDefs': [
            {
                'targets': 0,
                'checkboxes': {
                    'selectRow': true
                }
            }
        ],
        'select': {
            'style': 'multi'
        },
        'order': [[1, 'asc']]
        });
    
    
        // Handle form submission event
        $('#frm-example').on('submit', function(e){
        var form = this;
    
        var rows_selected = table.column(0).checkboxes.selected();
    
        // Iterate over all selected checkboxes
        $.each(rows_selected, function(index, rowId){
            // Create a hidden element
            $(form).append(
                $('<input>')
                    .attr('type', 'hidden')
                    .attr('name', 'id[]')
                    .val(rowId)
            );
        });
        });
    });
 </script>

{% endblock %}
</div>

